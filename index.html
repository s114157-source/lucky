<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç·šä¸Šæ±‚ç±¤ç­’ - æ¯æ—¥é‹å‹¢</title>
    <style>
        :root {
            --main-red: #c0392b;
            --gold: #f1c40f;
            --wood: #e67e22;
        }

        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            background-color: #fdf2e9;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        h1 {
            color: var(--main-red);
            text-shadow: 1px 1px 0px #fff;
            margin-bottom: 50px;
        }

        /* ç±¤ç­’å®¹å™¨ */
        .bucket-container {
            position: relative;
            cursor: pointer;
            width: 150px;
            height: 200px;
            transition: transform 0.2s;
        }

        .bucket-container:hover {
            transform: scale(1.05);
        }

        /* ç±¤ç­’æœ¬é«” */
        .bucket {
            width: 100%;
            height: 100%;
            background: var(--main-red);
            border-radius: 10px 10px 50px 50px;
            border: 4px solid #8e1b0f;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 5;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .bucket-text {
            color: var(--gold);
            font-size: 28px;
            font-weight: bold;
            writing-mode: vertical-rl;
            letter-spacing: 5px;
            border: 2px solid var(--gold);
            padding: 10px 5px;
        }

        /* ç±¤æ”¯ */
        .stick {
            width: 30px;
            height: 150px;
            background: var(--wood);
            border: 2px solid #d35400;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 5px;
        }

        /* æ–æ™ƒå‹•ç•« */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            20% { transform: rotate(15deg); }
            40% { transform: rotate(-15deg); }
            60% { transform: rotate(10deg); }
            80% { transform: rotate(-10deg); }
            100% { transform: rotate(0deg); }
        }

        .shaking {
            animation: shake 0.6s ease-in-out infinite;
        }

        .stick-out {
            transform: translate(-50%, -130px);
        }

        /* çµæœå½ˆçª— */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .fortune-img {
            max-width: 250px;
            height: auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .info-box {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            border-left: 5px solid var(--main-red);
        }

        .lucky-color-tag {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            margin-top: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .desc-text {
            color: #555;
            margin-top: 10px;
            line-height: 1.6;
        }

        .btn {
            margin-top: 20px;
            padding: 10px 30px;
            background: var(--main-red);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: 0.3s;
        }

        .btn:hover {
            background: #a93226;
        }
    </style>
</head>
<body>

    <h1>ğŸ® æ¯æ—¥ç¥æº–æ±‚ç±¤ ğŸ®</h1>

    <div class="bucket-container" id="drawZone" onclick="startDraw()">
        <div class="stick" id="stick"></div>
        <div class="bucket" id="bucket">
            <div class="bucket-text">æ±‚ç±¤</div>
        </div>
    </div>

    <p style="margin-top: 40px; color: #8e1b0f;">é»æ“Šç±¤ç­’ï¼Œèª å¿ƒæ±‚ä¸€ç±¤</p>

    <div class="overlay" id="overlay">
        <div class="modal">
            <h2 id="result-title">æ‚¨çš„æŠ½ç±¤çµæœ</h2>
            <img id="fortune-img" src="" alt="é‹å‹¢åœ–ç‰‡" class="fortune-img">
            
            <div class="info-box">
                <div><strong>ä»Šæ—¥å¹¸é‹è‰²</strong></div>
                <div id="lucky-color" class="lucky-color-tag"></div>
                <div class="desc-text" id="fortune-desc"></div>
            </div>

            <button class="btn" onclick="reset()">å†æ¬¡æ±‚ç±¤</button>
        </div>
    </div>

    <script>
        const fortunes = [
            { img: '1.png', title: 'å¤§å‰', desc: 'å¥½é‹ç•¶é ­ï¼Œè¬äº‹å¦‚æ„ï¼Œæ­£æ˜¯è¡Œå‹•çš„å¥½æ™‚æ©Ÿï¼' },
            { img: '2.png', title: 'ä¸­å‰', desc: 'é‹å‹¢å¹³ç©©ä¸Šå‡ï¼Œä¿æŒå¹³å¸¸å¿ƒï¼Œå¿…æœ‰å¥½äº‹ç™¼ç”Ÿã€‚' },
            { img: '3.png', title: 'å°å‰', desc: 'å¾®å°è€Œç¢ºå¯¦çš„å¹¸ç¦æ­£åœ¨è·¯é€”ä¸­ï¼Œç´°å¿ƒè§€å¯Ÿå‘¨é­ã€‚' },
            { img: '4.png', title: 'æœ«å‰', desc: 'é›–ç„¶é–‹é ­ç·©æ…¢ï¼Œä½†åªè¦å …æŒä¸‹å»ï¼Œçµ‚æœƒé–‹èŠ±çµæœã€‚' },
            { img: '5.png', title: 'å‡¶',   desc: 'ä»Šæ—¥å®œä½èª¿è¡Œäº‹ï¼Œå‡¡äº‹ä¸å®œå¼·æ±‚ï¼Œå¤šå–æ°´å¤šä¼‘æ¯ã€‚' }
        ];

        const colors = [
            { name: 'æ«»æ¡ƒç´…', code: '#e74c3c' },
            { name: 'å¤©ç©ºè—', code: '#3498db' },
            { name: 'æ£®æ—ç¶ ', code: '#2ecc71' },
            { name: 'è–°è¡£è‰ç´«', code: '#9b59b6' },
            { name: 'æš–é™½é»ƒ', code: '#f1c40f' },
            { name: 'çç ç™½', code: '#bdc3c7' },
            { name: 'æ·±é‚ƒé»‘', code: '#2c3e50' },
            { name: 'æ´»åŠ›æ©˜', code: '#e67e22' }
        ];

        let isDrawing = false;

        function startDraw() {
            if (isDrawing) return;
            isDrawing = true;

            const bucket = document.getElementById('drawZone');
            const stick = document.getElementById('stick');

            // 1. æ’­æ”¾æ–æ™ƒå‹•ç•«
            bucket.classList.add('shaking');

            // 2. éš¨æ©Ÿæ±ºå®šçµæœ
            const fortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            const color = colors[Math.floor(Math.random() * colors.length)];

            setTimeout(() => {
                // 3. åœæ­¢æ–æ™ƒï¼Œç±¤æ”¯å½ˆå‡º
                bucket.classList.remove('shaking');
                stick.classList.add('stick-out');

                setTimeout(() => {
                    // 4. é¡¯ç¤ºçµæœè¦–çª—
                    showResult(fortune, color);
                }, 600);
            }, 1200);
        }

        function showResult(fortune, color) {
            const overlay = document.getElementById('overlay');
            const img = document.getElementById('fortune-img');
            const colorTag = document.getElementById('lucky-color');
            const desc = document.getElementById('fortune-desc');

            img.src = fortune.img;
            colorTag.innerText = color.name;
            colorTag.style.backgroundColor = color.code;
            desc.innerText = fortune.desc;

            overlay.style.display = 'flex';
        }

        function reset() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('stick').classList.remove('stick-out');
            isDrawing = false;
        }
    </script>
</body>
</html>